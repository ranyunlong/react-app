/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import{useRef as t,useState as e,useLayoutEffect as n,createElement as a,forwardRef as o,useCallback as r,useMemo as i}from"react";import{createBrowserHistory as c,createHashHistory as u}from"history";import{Router as s,useHref as l,createPath as f,useLocation as h,useResolvedPath as m,useNavigate as p}from"@quick-toolkit/react-router";export{MemoryRouter,Navigate,NavigationType,Outlet,Route,Router,Routes,UNSAFE_LocationContext,UNSAFE_NavigationContext,UNSAFE_RouteContext,createPath,createRoutesFromChildren,generatePath,matchPath,matchRoutes,parsePath,renderMatches,resolvePath,useHref,useInRouterContext,useLocation,useMatch,useNavigate,useNavigationType,useOutlet,useOutletContext,useParams,useResolvedPath,useRouteContext,useRouteCurrent,useRoutes}from"@quick-toolkit/react-router";function y({basename:o,children:r,window:i}){let u=t();null==u.current&&(u.current=c({window:i}));let l=u.current,[f,h]=e({action:l.action,location:l.location});return n((()=>l.listen(h)),[l]),a(s,{basename:o,children:r,location:f.location,navigationType:f.action,navigator:l})}function g({basename:o,children:r,window:i}){let c=t();null==c.current&&(c.current=u({window:i}));let l=c.current,[f,h]=e({action:l.action,location:l.location});return n((()=>l.listen(h)),[l]),a(s,{basename:o,children:r,location:f.location,navigationType:f.action,navigator:l})}function d({basename:t,children:o,history:r}){const[i,c]=e({action:r.action,location:r.location});return n((()=>r.listen(c)),[r]),a(s,{basename:t,children:o,location:i.location,navigationType:i.action,navigator:r})}const v=o((function({onClick:t,reloadDocument:e,replace:n=!1,state:o,target:r,to:i,...c},u){let s=l(i),f=A(i,{replace:n,state:o,target:r});return a("a",Object.assign({},c,{href:s,onClick:function(n){t&&t(n),n.defaultPrevented||e||f(n)},ref:u,target:r}))})),R=o((function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:o=!1,style:r,to:i,children:c,...u},s){let l=h(),f=m(i),p=l.pathname,y=f.pathname;e||(p=p.toLowerCase(),y=y.toLowerCase());let g,d=p===y||!o&&p.startsWith(y)&&"/"===p.charAt(y.length),R=d?t:void 0;g="function"==typeof n?n({isActive:d}):[n,d?"active":null].filter(Boolean).join(" ");let A="function"==typeof r?r({isActive:d}):r;return a(v,Object.assign({},u,{"aria-current":R,className:g,ref:s,style:A,to:i}),"function"==typeof c?c({isActive:d}):c)}));function A(t,{target:e,replace:n,state:a}={}){let o=p(),i=h(),c=m(t);return r((r=>{if(!(0!==r.button||e&&"_self"!==e||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(r))){r.preventDefault();let e=!!n||f(i)===f(c);o(t,{replace:e,state:a})}}),[i,o,c,n,a,e,t])}function C(e){let n=t(b(e)),a=h(),o=i((()=>{let t=b(a.search);for(let e of n.current.keys())t.has(e)||n.current.getAll(e).forEach((n=>{t.append(e,n)}));return t}),[a.search]),c=p();return[o,r(((t,e)=>{c("?"+b(t),e)}),[c])]}function b(t=""){return new URLSearchParams("string"==typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce(((e,n)=>{let a=t[n];return e.concat(Array.isArray(a)?a.map((t=>[n,t])):[[n,a]])}),[]))}export{y as BrowserRouter,g as HashRouter,v as Link,R as NavLink,b as createSearchParams,d as unstable_HistoryRouter,A as useLinkClickHandler,C as useSearchParams};
//# sourceMappingURL=react-rc-router-dom.production.min.js.map
